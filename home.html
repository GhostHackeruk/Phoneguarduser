<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Phone Guard â€¢ Home</title>

<style>
:root{
  --bg:#050607;
  --card:rgba(8,12,10,.75);
  --neon:#00ff9d;
  --neon2:#00d4ff;
  --text:#d8ffe9;
  --muted:rgba(216,255,233,.7);
  --line:rgba(0,255,160,.22);
  --r:18px;
}
*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  background:
    radial-gradient(circle at 20% 10%, rgba(0,212,255,.12), transparent 45%),
    radial-gradient(circle at 80% 30%, rgba(0,255,160,.10), transparent 40%),
    var(--bg);
  color:var(--text);
  font-family: ui-monospace, Consolas, monospace;
  padding:16px;
}
.wrap{max-width:560px;margin:auto}
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--r);
  padding:16px;
  box-shadow:0 0 40px rgba(0,255,160,.12), inset 0 0 60px rgba(0,30,20,.35);
}
.top{
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.iconBtn{
  width:44px;height:44px;
  border-radius:14px;
  border:1px solid rgba(0,255,160,.22);
  background:rgba(0,0,0,.35);
  color:var(--text);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.center{text-align:center;flex:1}
.title{
  font-weight:900;
  letter-spacing:.22em;
  color:var(--neon);
  font-size:20px;
}
.sub{
  font-size:11px;
  color:var(--neon2);
  margin-top:6px;
}
.balanceRow{
  display:flex;
  gap:10px;
  margin-top:14px;
}
.pill{
  flex:1;
  padding:12px;
  border-radius:999px;
  border:1px solid rgba(0,255,160,.22);
  background:rgba(0,0,0,.35);
  text-align:center;
}
.pill b{color:var(--neon)}
.btn{
  padding:12px 14px;
  border-radius:14px;
  border:0;
  cursor:pointer;
  font-weight:900;
  background:linear-gradient(135deg,rgba(0,212,255,.9),rgba(0,255,160,.95));
  color:#00150b;
}
.grid{
  display:grid;
  grid-template-columns:1fr;
  gap:12px;
  margin-top:16px;
}
.big{
  padding:16px;
  border-radius:16px;
  border:1px solid rgba(0,255,160,.22);
  background:rgba(0,0,0,.35);
  text-align:center;
  font-weight:900;
  cursor:pointer;
}
.footer{
  margin-top:16px;
  text-align:center;
}
.logout{
  background:transparent;
  border:1px solid rgba(255,80,120,.4);
  color:#ff6b88;
}
</style>
</head>

<body>
<div class="wrap">
  <div class="card">

    <!-- TOP -->
    <div class="top">
      <div class="iconBtn" id="profileBtn">ðŸ‘¤</div>

      <div class="center">
        <div class="title">PHONE GUARD</div>
        <div class="sub" id="emailTxt">Loadingâ€¦</div>
      </div>

      <div class="iconBtn" id="notifBtn">ðŸ””</div>
    </div>

    <!-- BALANCE -->
    <div class="balanceRow">
      <div class="pill">Balance: <b id="balTxt">à§³ 0</b></div>
      <button class="btn" id="depositBtn">DEPOSIT</button>
    </div>

    <!-- ACTION BUTTONS -->
    <div class="grid">
      <div class="big" id="socialBtn">SOCIAL MEDIA</div>
      <div class="big" id="mobileBtn">MOBILE HACK</div>
    </div>

    <!-- LOGOUT -->
    <div class="footer">
      <button class="btn logout" id="logoutBtn">LOGOUT</button>
    </div>

  </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-auth.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyD_eOcX7P77xLFnOPf3yWk3P-Qyhbyab5E",
  authDomain: "phone-guard-user-new.firebaseapp.com",
  projectId: "phone-guard-user-new",
  storageBucket: "phone-guard-user-new.firebasestorage.app",
  messagingSenderId: "764033397081",
  appId: "1:764033397081:web:182fd2c7cfc663e36c5c48"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

const emailTxt = document.getElementById("emailTxt");
const balTxt   = document.getElementById("balTxt");

// Auth guard + load data
onAuthStateChanged(auth, async (user)=>{
  if(!user){
    location.href="login.html";
    return;
  }

  emailTxt.textContent = user.email || "User";

  const snap = await getDoc(doc(db,"users",user.uid));
  const bal = snap.exists() ? (snap.data().balance || 0) : 0;
  balTxt.textContent = "à§³ " + bal;
});

// Buttons (à¦¸à¦¬à¦¸à¦®à§Ÿ à¦•à¦¾à¦œ à¦•à¦°à¦¬à§‡)
document.getElementById("socialBtn").onclick  = ()=> location.href="social.html";
document.getElementById("mobileBtn").onclick  = ()=> location.href="mobile.html";
document.getElementById("depositBtn").onclick = ()=> location.href="deposit.html";

document.getElementById("profileBtn").onclick = ()=> alert("Profile page later");
document.getElementById("notifBtn").onclick   = ()=> alert("Notification later");

document.getElementById("logoutBtn").onclick = async ()=>{
  await signOut(auth);
  location.href="login.html";
};
</script>
</body>
</html>
